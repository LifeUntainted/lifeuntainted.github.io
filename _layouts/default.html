<!-- _layouts/default.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7EYDG9NBY9"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-7EYDG9NBY9');
</script>
  <!-- Meta Tags -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="description" content="{{ page.description | default: site.description }}">

  <!-- Page Title -->
  <title>{{ page.title }} - 321Niche.com</title>

  <!-- Import Google Icon Font -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

  <!-- Import Orbitron Font -->
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700&display=swap" rel="stylesheet">

  <!-- Include Materialize CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">

  <!-- Custom Styles -->
  <link rel="stylesheet" href="{{ '/assets/css/styles.css' | relative_url }}">

  <!-- Favicon (Optional) -->
  <link rel="icon" href="{{ '/images/favicon.ico' | relative_url }}" type="image/x-icon">
</head>
<body>

  <!-- Navigation Bar -->
  {% include navbar.html %}

  <!-- Main Content -->
  <main>
    {{ content }}
  </main>

  <!-- Footer -->
  {% include footer.html %}

  <!-- Compiled and minified JavaScript -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js" defer></script>

  <!-- Initialize Materialize Components -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Initialize Mobile Navigation
      var elemsSidenav = document.querySelectorAll('.sidenav');
      M.Sidenav.init(elemsSidenav);

      // Initialize Carousel
      var elemsCarousel = document.querySelectorAll('.carousel');
      M.Carousel.init(elemsCarousel, {
        duration: 200,
        shift: 50,
        padding: 50,
        numVisible: 3,
        indicators: true,
        fullWidth: false,
        autoplay: true,
        interval: 3000
      });

      // Initialize Parallax
      var elemsParallax = document.querySelectorAll('.parallax');
      M.Parallax.init(elemsParallax);

      // Smooth Scroll for Hero Button
      const heroButton = document.querySelector('.hero-content .btn');
      if (heroButton) {
        heroButton.addEventListener('click', function(e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute('href'));
          if(target) {
            window.scrollTo({
              top: target.offsetTop - 70,
              behavior: 'smooth'
            });
          }
        });
      }

      // Form Validation and Submission
      const newsletterForm = document.querySelector('.newsletter-section form');
      if (newsletterForm) {
        newsletterForm.addEventListener('submit', function(e) {
          e.preventDefault();
          const emailInput = document.getElementById('email');
          if (emailInput.checkValidity()) {
            M.toast({html: 'Thank you for subscribing!', classes: 'rounded'});
            emailInput.value = '';
            M.updateTextFields();
          } else {
            M.toast({html: 'Please enter a valid email address.', classes: 'rounded red'});
          }
        });
      }
    });
  </script>
</body>
</html>
