<!DOCTYPE html>
<html>
<head>
  <title>GPT-4 Turbo Chat</title>
  <style>
    /* Basic styling for the chat box */
    #chatbox {
      width: 400px;
      height: 300px;
      border: 1px solid #ccc;
      overflow-y: scroll;
      padding: 10px;
    }
    #user_input {
      width: 300px;
    }
  </style>
</head>
<body>
  <h1>GPT-4 Turbo Chat</h1>
  <div id="chatbox"></div>
  <input type="text" id="user_input" placeholder="Type your message...">
  <button onclick="sendMessage()">Send</button>

  <script type="module">
    import OpenAI from "https://cdn.skypack.dev/openai";

    const openai = new OpenAI({
      apiKey: "your-api-key" // Replace with your actual API key
    });

    async function sendMessage() {
      const userInput = document.getElementById("user_input").value;
      document.getElementById("user_input").value = "";

      displayMessage("user", userInput);

      try {
        const response = await openai.chat.completions.create({
          model: "gpt-4-turbo",
          messages: [{ role: "user", content: userInput }],
        });

        displayMessage("assistant", response.choices[0].message.content);
      } catch (error) {
        console.error("Error:", error);
        displayMessage("error", "An error occurred. Please try again.");
      }
    }

    function displayMessage(role, message) {
      const chatbox = document.getElementById("chatbox");
      const div = document.createElement("div");
      div.innerHTML = `<strong>${role}:</strong> ${message}`;
      chatbox.appendChild(div);
      chatbox.scrollTop = chatbox.scrollHeight;
    }
  </script>
</body>
</html>
